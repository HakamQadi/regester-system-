const Tech_Test = [
  //0
  {
    question:"Which of the following is a valid HTML tag for creating a hyperlink?",
    options: ["img", 
    "a",
    " p",
    "div"],
    answer: "a" ,
  },
  //1
  {
    question:"Which of the following is a correct syntax for creating a CSS class named 'example-class?' ",
    options: ["img", "a", " p", "div"],
    answer: "a",
  },
  //2
  {
    question: "What does HTML stand for?",
    options: [
      "Hyper Text Markup Language",
      "Hyperlinks and Text Markup Language",
      "Home Tool Markup Language",
      "None of the above",
    ],
    answer: "Hyper Text Markup Language",
  },
  //3
  {
    question:"What is the correct syntax for adding a background color to a div element in CSS?",
    options: [
      "background-color: yellow;",
      "color: yellow;",
      "bgcolor: yellow;",
      "bg-color: yellow;",
    ],
    answer: "background-color: yellow;",
  },
  //4
  {
    question:
      "What is the correct syntax for creating a function in JavaScript?",
    options: [
      "function:myFunction()",
      "function = myFunction()",
      "function myFunction()",
      "myFunction():function",
    ],
    answer: "function myFunction()",
  },
  //5
  {
    question: "What does DOM stand for in web development?",
    options: [
      "function:myFunction()",
      "function = myFunction()",
      "function myFunction()",
      "myFunction():function",
    ],
    answer: "function myFunction()",
  },
  //6
  {
    question: "What does the CSS property 'font-weight' do?",
    options: [
      "Changes the font family",
      "Changes the font size",
      "Changes the font color",
      "Changes the font thickness",
    ],
    answer: "Changes the font thickness",
  },
  //7
  {
    question: "Which HTML tag is used to create a line break?",
    options: ["br", "hr", "p", "div"],
    answer: "br",
  },
  //8
  {
    question:
      "What is the correct syntax for adding an external JavaScript file to an HTML document?",
    options: [
      "script src='file.js'",
      "js src='file.js'",
      "script file='file.js'",
      "js file='file.js'",
    ],
    answer: "script src='file.js'",
  },
  //9
  {
    question:
      "Which of the following is a correct way to declare a variable in JavaScript?",
    options: ["variable x = 5;", "var x = 5;", "x = 5;", "let x = 5;"],
    answer: "let x = 5;",
  },
  //10
  {
    question:
      "Which CSS property is used to set the spacing between lines of text?",
    options: ["line-height", "letter-spacing", "word-spacing", "text-align"],
    answer: "line-height",
  },
  //11
  {
    question:
      "What is the correct syntax for adding an inline CSS style to an HTML element?",
    options: [
      "style: background-color='red'",
      "style='background-color: red'",
      "style-background-color: red",
      "style:red;",
    ],
    answer: "style='background-color: red'",
  },
  //12
  {
    question: "What does the HTML tag <select> do?",
    options: [
      "Creates a text input field",
      "Creates a checkbox",
      "Creates a drop-down list",
      "Creates a radio button",
    ],
    answer: "Creates a drop-down list",
  },
  //13
  {
    question:
      "Which of the following is NOT a valid value for the CSS 'display' property?",
    options: ["block", "inline", "none", "hidden"],
    answer: "hidden",
  },
  //14
  {
    question: "What does the JavaScript function 'parseInt()' do? ",
    options: [
      "Returns the integer part of a decimal number",
      "Rounds a number up to the nearest integer",
      "Converts a number to a string",
      "Returns the square root of a number",
    ],
    answer: "Returns the integer part of a decimal number",
  },
  //15
  {
    question: "What does the CSS property 'padding' do?",
    options: [
      "Adds space between the border and content of an element",
      "Adds space outside the border of an element",
      "Sets the width of an element's border",
      "Sets the height of an element's border",
    ],
    answer: "Adds space between the border and content of an element",
  },
  //16
  {
    question: "What is the purpose of the HTML <head> element?",
    options: [
      "To define the body of the document",
      "To define a section of the document",
      "To define metadata about the document",
      "To define a hyperlink",
    ],
    answer: "To define metadata about the document",
  },
  //17
  {
    question: "What is the CSS property used to center align text?",
    options: [
      "text-align: left;",
      "text-align: right;",
      "text-align: center;",
      "text-align: justify;",
    ],
    answer: "text-align: center;",
  },
  //18
  {
    question: "Which HTML tag is used to create a list of items with bullets?",
    options: ["ul", "ol", "li", "dl"],
    answer: "ul",
  },

  //19
  {
    question: "What does the JavaScript method 'getElementById' do?",
    options: [
      "Finds an HTML element by its class name",
      "Finds an HTML element by its tag name",
      "Finds an HTML element by its ID",
      "Finds an HTML element by its value",
    ],
    answer: "Finds an HTML element by its ID",
  },

  //20
  {
    question:
      "What is the CSS property used to specify the distance between the border and content of an element?",
    options: ["margin", "padding", "border-spacing", "line-height"],
    answer: "padding",
  },

  //21
  {
    question: "What is the correct syntax for creating a button in HTML?",
    options: ["button", "input", "form", "label"],
    answer: "button",
  },

  //22
  {
    question: "What is the CSS property used to make text bold?",
    options: ["text-weight", "font-weight", "text-style", "font-style"],
    answer: "font-weight",
  },

  //23
  {
    question:
      "What is the correct syntax for commenting out a line of code in JavaScript?",
    options: [
      "// This is a comment",
      "<--This is a comment -->",
      "/* This is a comment */",
      "%% This is a comment",
    ],
    answer: "// This is a comment",
  },

  //24
  {
    question:
      "Which of the following is a correct way to write an if statement in JavaScript?",
    options: ["if x = 5 then", "if x == 5", "if (x = 5)", "if x = 5"],
    answer: "if (x == 5)",
  },

  //25
  {
    question: "What is the HTML tag used to define a paragraph?",
    options: ["h1", "p", "div", "span"],
    answer: "p",
  },
  //26
  {
    question: "Which HTML tag is used to display an image?",
    options: ["img", "src", "image", "picture"],
    answer: "img",
  },
  //27
  {
    question: "Which JavaScript method is used to remove the last element from an array?",
    options: ["array.pop()", "array.shift()", "array.removeLast()", "array.splice()"],
    answer: "array.pop()",
  },
  //28
  {
    question: "What is the purpose of the <head> tag in HTML?",
    options: ["It defines the main content of the web page.", "It contains metadata about the web page.", "It displays the title of the web page.", "It defines the footer of the web page."],
    answer: "It contains metadata about the web page.",
  },
  //29
  {
    question: "Which HTML attribute is used to specify an alternate text for an image?",
    options: ["src", "alt", "title", "href"],
    answer: "alt",
  },
  //30
  {
    question: "What is the correct HTML element for defining a navigation menu?",
    options: ["nav", "menu", "ul", "list"],
    answer: "nav",
  },
];
// {
//   question:"Which of the following is a correct syntax for creating a CSS class named 'example-class?' ",
//   options: ["img", "a", " p", "div"],
//   answers: "a",
// }
const tech_ten_Random=[];
const maxQuestions = 10; 
let answerPlusQuestion_user_tec=[];
let correct_answers_tec=0;
while (tech_ten_Random.length < maxQuestions) {

const randomQuestion = Math.floor(Math.random() * Tech_Test.length);
if (!tech_ten_Random.includes(Tech_Test[randomQuestion])) {
    tech_ten_Random.push(Tech_Test[randomQuestion]);
}
}

console.log(tech_ten_Random);


  const tech_Q=document.getElementById("tech-question");
  let tech_A=document.getElementById("tech_answer");
  let timer_Tech=document.getElementById("timer_tech");
  let button__submit_technical=document.getElementById("submit__tech");
  const average = correct_answers_tec / maxQuestions;
  const accuracyPercentage_tec = (average * 100).toFixed(2);


  let timeLeft = localStorage.getItem('timeLeft_tech') || (10 * 60); 

  const countdown = setInterval(function() {
    if (timeLeft <= 0) {
      clearInterval(countdown);
   
      window.location.href = 'score.html';
      
    } else {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      // console.log(minutes + ' minutes ' + seconds + ' seconds remaining.');
      timer_Tech.innerHTML=`
      <span class="circle_Tech p-3">${minutes}:${seconds}</span>
  `;
  localStorage.setItem('timeLeft_tech', timeLeft);
      timeLeft--;
    }
  }, 1000);
  let index=0;

  tech_Q.innerHTML=`
  <div class="row row_hederquestion">
  <div class="col-11 d-flex justify-content-center align-items-center">
      <p class="h5 question_cont border-bottom ml-4" >Question 1/10</p>
  </div>
  <div class="col-1 arrow p-0 me-auto d-flex justify-content-end">
      <img src="../assets/img/Arrow.svg" alt="">
  </div>
</div>
<div class="row justify-content-center mt-3">
  <img src="../assets/img/photo.svg" alt="" class="image_question">
</div>
<div class="row mt-1">
  <p class="h5 question_ d-flex justify-content-center align-items-center pt-3 " >${tech_ten_Random[index].question}</p>
</div>
  `;
  tech_A.innerHTML=`
  <div class="form-check mt-4 mb-2=1 form-check1 ">
      <input class="form-check-input input_check" type="radio" name="option-${index}" id="exampleRadios1" value="${tech_ten_Random[index].options[0]}"  >
      <label class="form-check-label" for="exampleRadios1">
       <span>A.</span>${tech_ten_Random[index].options[0]}
      </label>
    </div>
    <div class="form-check mt-4 mb-1 ">
      <input class="form-check-input" type="radio" name="option-${index}" id="exampleRadios2" value="${tech_ten_Random[index].options[0]}">
      <label class="form-check-label" for="exampleRadios2">
      <span>B.</span>${tech_ten_Random[index].options[1]}
      </label>
    </div>
    <div class="form-check mt-4 mb-1">
      <input class="form-check-input" type="radio" name="option-${index}" id="exampleRadios3" value="${tech_ten_Random[index].options[2]}">
      <label class="form-check-label" for="exampleRadios3">
       <span>C.</span> ${tech_ten_Random[index].options[2]}
      </label>
    </div>
    <div class="form-check mt-4 mb-1 form-check1">
      <input class="form-check-input" type="radio" name="option-${index}" id="exampleRadios4" value="${tech_ten_Random[index].options[3]}" >
      <label class="form-check-label" for="exampleRadios4">
        <span>D.</span> ${tech_ten_Random[index].options[3]}
      </label>
    </div>

  `;
  const Radios = tech_A.querySelectorAll(`input[name="option-${index}"]`);
Radios.forEach(radio => {
radio.addEventListener("click", () => {
  let question_display = tech_ten_Random[index-1].question;
  let correct_answer = tech_ten_Random[index-1].answer;
  let selected_answer = radio.value;
  let alreadyCorrect = answerPlusQuestion_user_tec.some(obj => obj.question === question_display && obj.selected === correct_answer);
  // Check if the selected answer matches the correct answer
  if (selected_answer === correct_answer && !alreadyCorrect) {
    correct_answers_tec++;
  }
  let obj_user_choose = { question: question_display, selected: selected_answer, answer: correct_answer };
  answerPlusQuestion_user_tec.push(obj_user_choose);
});
});
console.log("count of the correct answer"+correct_answers_tec);
console.log("array of selected answer"+answerPlusQuestion_user_tec);
console.log("the index of question"+index);

console.log("the average of technical test"+ accuracyPercentage_tec);

let questionRandom = 2;
index++; 

button__submit_technical.addEventListener("click" ,()=>{

  tech_Q.innerHTML=`
  <div class="row row_hederquestion">
  <div class="col-11 d-flex justify-content-center align-items-center">
      <p class="h5 question_cont border-bottom ml-4" >Question ${questionRandom}/10</p>
  </div>
  <div class="col-1 arrow p-0 me-auto d-flex justify-content-end">
      <img src="../assets/img/Arrow.svg" alt="">
  </div>
</div>
<div class="row justify-content-center mt-3">
  <img src="../assets/img/photo.svg" alt="" class="image_question">
</div>
<div class="row mt-1">
  <p class="h5 question_ d-flex justify-content-center align-items-center pt-3 " >${tech_ten_Random[index].question}</p>
</div>
  `;
  tech_A.innerHTML=`
  <div class="form-check mt-4 mb-2=1 form-check1 ">
  <input class="form-check-input input_check" type="radio" name="option-${index}" id="exampleRadios1" value="${tech_ten_Random[index].options[0]}"  >
  <label class="form-check-label" for="exampleRadios1">
   <span>A.</span>${tech_ten_Random[index].options[0]}
  </label>
</div>
<div class="form-check mt-4 mb-1 ">
  <input class="form-check-input" type="radio" name="option-${index}" id="exampleRadios2" value="${tech_ten_Random[index].options[0]}">
  <label class="form-check-label" for="exampleRadios2">
  <span>B.</span>${tech_ten_Random[index].options[1]}
  </label>
</div>
<div class="form-check mt-4 mb-1">
  <input class="form-check-input" type="radio" name="option-${index}" id="exampleRadios3" value="${tech_ten_Random[index].options[2]}">
  <label class="form-check-label" for="exampleRadios3">
   <span>C.</span> ${tech_ten_Random[index].options[2]}
  </label>
</div>
<div class="form-check mt-4 mb-1 form-check1">
  <input class="form-check-input" type="radio" name="option-${index}" id="exampleRadios4" value="${tech_ten_Random[index].options[3]}" >
  <label class="form-check-label" for="exampleRadios4">
    <span>D.</span> ${tech_ten_Random[index].options[3]}
  </label>
</div>
  `
  const Radios=tech_A.querySelectorAll(`input[name="option-${index}"]`);
  Radios.forEach(radio =>{
   radio.addEventListener("click",()=>{
    let question_display=  tech_ten_Random[index-1].question;
     let correct_answer =tech_ten_Random[index-1].answer;
     let Selected_answer =radio.value;
     let alreadyCorrect = answerPlusQuestion_user_tec.some(obj => obj.question === question_display && obj.selected === correct_answer);
     if (Selected_answer === correct_answer && !alreadyCorrect) {
      correct_answers_tec++;
     }
     let obj_user_choose ={ question:question_display , selected: Selected_answer , answer: correct_answer};
     answerPlusQuestion_user_tec.push(obj_user_choose);
    
   })
 });
 console.log(correct_answers_tec);
    console.log(answerPlusQuestion_user_tec);
    index++;
  questionRandom++;

  const average_tec = correct_answers_tec /maxQuestions ;
  const accuracyPercentage_tec = (average_tec * 100).toFixed(2);
  localStorage.setItem(`average_tech${index-1}`,accuracyPercentage_tec+"%");

console.log("the average of technical"+ accuracyPercentage_tec);
localStorage.setItem(`user_answer-tech${index-1}`, JSON.stringify(answerPlusQuestion_user_tec));
});
